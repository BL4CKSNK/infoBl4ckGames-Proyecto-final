import{r as s,j as r}from"./index-CT-9_id-.js";import{J as m,M as h,B as f,z as x}from"./MainLayaout--hj295c2.js";import{L as g}from"./LayaoutAdmin-b_Mhy4Wx.js";import{T as p}from"./toast.esm-BPGPX-aO.js";import"./index.esm-ka6OvFs3.js";import"./index.esm-CTkIKXvg.js";import"./index.esm-QBDj5i6w.js";function w(){const[i,c]=s.useState([]),[a,l]=s.useState(""),t=s.useRef(null);s.useEffect(()=>{fetch(m).then(e=>e.text()).then(e=>{const o=e.substring(e.indexOf("["));try{const n=JSON.parse(o);c(n)}catch(n){console.error("Error al analizar JSON:",n)}}).catch(e=>{console.error("Error en la solicitud:",e)})},[]);const u=e=>{const o=e.target.value;l(o)},d=async e=>{if(e.preventDefault(),!a){console.error("Seleccione un juego antes de eliminar.");return}try{const o=await fetch(`${x}?idJuego=${a}`,{method:"DELETE"});o.ok?(l(""),t.current.show({severity:"success",summary:"Ã‰xito",detail:"Juego eliminado correctamente",life:3e3})):(console.error("Error al eliminar el juego:",o.status),t.current.show({severity:"error",summary:"Error",detail:`Error al eliminar el juego: ${o.status}`,life:3e3}))}catch(o){console.error("Error de red:",o),t.current.show({severity:"error",summary:"Error",detail:"Error de red",life:3e3})}};return r.jsx(r.Fragment,{children:r.jsx(h,{children:r.jsxs(g,{children:[r.jsx(p,{ref:t,position:"bottom-center",className:" text-white"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Formulario para borrar juego"}),r.jsxs("form",{onSubmit:d,className:"mb-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Juego:"}),r.jsxs("select",{value:a,onChange:u,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[r.jsx("option",{value:"",children:"Seleccione un juego"}),i.map(e=>r.jsx("option",{value:e.idJuego,children:e.Titulo},e.idJuego))]})]}),r.jsx(f,{type:"submit",className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Eliminar Juego"})]})]})})})}export{w as default};
