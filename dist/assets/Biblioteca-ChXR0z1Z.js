import{r as o,P as Te,O as Q,D as V,c as ee,j as s,L as Oe}from"./index-CT-9_id-.js";import{C as _e,u as Le,y as $,a as Me,B as ue,J as Ae,M as Ie}from"./MainLayaout--hj295c2.js";import{I as X}from"./inputtext.esm-CaMnLbjR.js";import{P as ke}from"./Paginacion-DuE7jTeq.js";import{B as Fe}from"./Buscador-B2XDDPg8.js";function te(){return te=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},te.apply(this,arguments)}function Y(n){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Y(n)}function Re(n,r){if(Y(n)!=="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var c=a.call(n,r||"default");if(Y(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function ze(n){var r=Re(n,"string");return Y(r)==="symbol"?r:String(r)}function He(n,r,a){return r=ze(r),r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}function ne(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,c=new Array(r);a<r;a++)c[a]=n[a];return c}function Ue(n){if(Array.isArray(n))return ne(n)}function Ye(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function me(n,r){if(n){if(typeof n=="string")return ne(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ne(n,r)}}function Be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Je(n){return Ue(n)||Ye(n)||me(n)||Be()}function Ke(n){if(Array.isArray(n))return n}function We(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var c,e,v,h,b=[],g=!0,D=!1;try{if(v=(a=a.call(n)).next,r===0){if(Object(a)!==a)return;g=!1}else for(;!(g=(c=v.call(a)).done)&&(b.push(c.value),b.length!==r);g=!0);}catch(C){D=!0,e=C}finally{try{if(!g&&a.return!=null&&(h=a.return(),Object(h)!==h))return}finally{if(D)throw e}}return b}}function $e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(n,r){return Ke(n)||We(n,r)||me(n,r)||$e()}var Xe={handle:function(r){var a=r.index,c=r.handleIndex;return ee("p-slider-handle",{"p-slider-handle-start":a===0,"p-slider-handle-end":a===1,"p-slider-handle-active":c.current===a})},range:"p-slider-range",root:function(r){var a=r.props,c=r.vertical,e=r.horizontal;return ee("p-slider p-component",{"p-disabled":a.disabled,"p-slider-horizontal":e,"p-slider-vertical":c})}},Ze=`
@layer primereact {
    .p-slider {
        position: relative;
    }
    
    .p-slider .p-slider-handle {
        position: absolute;
        cursor: grab;
        touch-action: none;
        display: block;
        z-index: 1;
    }
    
    .p-slider .p-slider-handle.p-slider-handle-active {
        z-index: 2;
    }
    
    .p-slider-range {
        position: absolute;
        display: block;
    }
    
    .p-slider-horizontal .p-slider-range {
        top: 0;
        left: 0;
        height: 100%;
    }
    
    .p-slider-horizontal .p-slider-handle {
        top: 50%;
    }
    
    .p-slider-vertical {
        height: 100px;
    }
    
    .p-slider-vertical .p-slider-handle {
        left: 50%;
    }
    
    .p-slider-vertical .p-slider-range {
        bottom: 0;
        left: 0;
        width: 100%;
    }
}
`,Ge={handle:{position:"absolute"},range:{position:"absolute"}},U=_e.extend({defaultProps:{__TYPE:"Slider",id:null,value:null,min:0,max:100,orientation:"horizontal",step:null,range:!1,style:null,className:null,disabled:!1,tabIndex:0,onChange:null,onSlideEnd:null,children:void 0},css:{classes:Xe,styles:Ze,inlineStyles:Ge}});function de(n,r){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);r&&(c=c.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),a.push.apply(a,c)}return a}function I(n){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?de(Object(a),!0).forEach(function(c){He(n,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(a,c))})}return n}var re=o.memo(o.forwardRef(function(n,r){var a=Le(),c=o.useContext(Te),e=U.getProps(n,c),v=o.useRef(null),h=o.useRef(0),b=o.useRef(!1),g=o.useRef(!1),D=o.useRef(0),C=o.useRef(0),N=o.useRef(0),O=o.useRef(0),P=o.useRef(),p=e.range?e.value||[e.min,e.max]:e.value||e.min||0,y=e.orientation==="horizontal",R=e.orientation==="vertical",_=$({type:"mousemove",listener:function(t){return ie(t)}}),d=Z(_,2),T=d[0],S=d[1],L=$({type:"mouseup",listener:function(t){return le(t)}}),z=Z(L,2),H=z[0],l=z[1],E=$({type:"touchmove",listener:function(t){return ie(t)}}),x=Z(E,2),M=x[0],fe=x[1],pe=$({type:"touchend",listener:function(t){return le(t)}}),ae=Z(pe,2),he=ae[0],ge=ae[1],B=U.setMetaData({props:e}),J=B.ptm,K=B.cx,G=B.sx,ve=B.isUnstyled;Me(U.css.styles,ve,{name:"slider"});var k=function(t,i){var u=e.range?p[h.current]:p,f=(e.step||1)*i;ce(t,u+f),t.preventDefault()},se=function(t,i){e.disabled||(g.current=!0,oe(),b.current=!0,e.range&&p[0]===e.max?h.current=0:h.current=i,t.preventDefault())},ie=function(t){g.current&&(q(t),t.preventDefault())},le=function(t){if(g.current){g.current=!1;var i=q(t);e.onSlideEnd&&e.onSlideEnd({originalEvent:t,value:i}),P.current=void 0,S(),l(),fe(),ge()}},xe=function(t,i){T(),H(),se(t,i)},be=function(t,i){t.changedTouches&&t.changedTouches[0]&&(P.current=t.changedTouches[0].identifier),M(),he(),se(t,i)},ye=function(t,i){if(!e.disabled){h.current=i;var u=t.key;switch(u){case"ArrowRight":case"ArrowUp":k(t,1);break;case"ArrowLeft":case"ArrowDown":k(t,-1);break;case"PageUp":k(t,10),t.preventDefault();break;case"PageDown":k(t,-10),t.preventDefault();break;case"Home":k(t,-p),t.preventDefault();break;case"End":k(t,e.max),t.preventDefault();break}}},Se=function(t){if(!e.disabled){if(!b.current){oe();var i=q(t);e.onSlideEnd&&e.onSlideEnd({originalEvent:t,value:i})}b.current=!1}},oe=function(){var t=v.current.getBoundingClientRect();D.current=t.left+V.getWindowScrollLeft(),C.current=t.top+V.getWindowScrollTop(),N.current=v.current.offsetWidth,O.current=v.current.offsetHeight},we=function(t){var i,u=Array.from((i=t.changedTouches)!==null&&i!==void 0?i:[]).find(function(f){return f.identifier===P.current})||t;return{pageX:u.pageX,pageY:u.pageY}},q=function(t){var i,u=we(t),f=u.pageX,A=u.pageY;if(!(!f||!A)){y?i=(f-D.current)*100/N.current:i=(C.current+O.current-A)*100/O.current;var w=(e.max-e.min)*(i/100)+e.min;if(e.step){var j=e.range?p[h.current]:p,W=w-j;W<0?w=j+Math.ceil(w/e.step-j/e.step)*e.step:W>0&&(w=j+Math.floor(w/e.step-j/e.step)*e.step)}else w=Math.floor(w);return ce(t,w)}},ce=function(t,i){var u=parseFloat(i.toFixed(10)),f=u;return e.range?(h.current===0?u<e.min?u=e.min:u>e.max&&(u=e.max):u>e.max?u=e.max:u<e.min&&(u=e.min),f=Je(p),f[h.current]=u,e.onChange&&e.onChange({originalEvent:t,value:f})):(u<e.min?u=e.min:u>e.max&&(u=e.max),f=u,e.onChange&&e.onChange({originalEvent:t,value:f})),f},F=function(t,i,u){t=Q.isEmpty(t)?null:t,i=Q.isEmpty(i)?null:i;var f={transition:g.current?"none":null,left:t!=null?t+"%":null,bottom:i!=null?i+"%":null},A=a(I({className:K("handle",{index:u,handleIndex:h}),style:I(I({},G("handle",{dragging:g,leftValue:t,bottomValue:i})),f),tabIndex:e.tabIndex,role:"slider",onMouseDown:function(j){return xe(j,u)},onTouchStart:function(j){return be(j,u)},onKeyDown:function(j){return ye(j,u)},"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":t||i||0,"aria-orientation":e.orientation},Ce),J("handle"));return o.createElement("span",A)},je=function(){var t=(p[0]<e.min?e.min:p[0]-e.min)*100/(e.max-e.min),i=(p[1]>e.max?e.max:p[1]-e.min)*100/(e.max-e.min),u=y?F(t,null,0):F(null,t,0),f=y?F(i,null,1):F(null,i,1),A=i>t?i-t:t-i,w=i>t?t:i,j=y?{left:w+"%",width:A+"%"}:{bottom:w+"%",height:A+"%"},W=a({className:K("range"),style:I(I({},G("range")),j)},J("range"));return o.createElement(o.Fragment,null,o.createElement("span",W),u,f)},De=function(){var t;p<e.min?t=e.min:p>e.max?t=e.max:t=(p-e.min)*100/(e.max-e.min);var i=y?{width:t+"%"}:{height:t+"%"},u=y?F(t,null,null):F(null,t,null),f=a({className:K("range"),style:I(I({},G("range")),i)},J("range"));return o.createElement(o.Fragment,null,o.createElement("span",f),u)};o.useImperativeHandle(r,function(){return{props:e,getElement:function(){return v.current}}});var Ee=U.getOtherProps(e),Ce=Q.reduceKeys(Ee,V.ARIA_PROPS),Ne=e.range?je():De(),Pe=a({style:e.style,className:ee(e.className,K("root",{vertical:R,horizontal:y})),onClick:Se},U.getOtherProps(e),J("root"));return o.createElement("div",te({id:e.id,ref:v},Pe),Ne)}));re.displayName="Slider";const qe=({juegos:n,setFilteredJuegos:r,categoriasUnicas:a,isOpen:c,toggleSidebar:e})=>{const[v,h]=o.useState(""),[b,g]=o.useState(0),[D,C]=o.useState(100),[N,O]=o.useState(""),[P,p]=o.useState(""),[y,R]=o.useState(""),[_,d]=o.useState("");o.useEffect(()=>{let l=n;v!==""&&(l=l.filter(x=>x.Categorias.includes(v)));const E=.21;l=l.filter(x=>{const M=x.Precio*(1+E);return M>=b&&M<=D}),P&&y&&(l=l.filter(x=>new Date(x.FechaLanzamiento)>=new Date(P)&&new Date(x.FechaLanzamiento)<=new Date(y))),N==="asc"?l=l.sort((x,M)=>x.Titulo.localeCompare(M.Titulo)):N==="desc"&&(l=l.sort((x,M)=>M.Titulo.localeCompare(x.Titulo))),_!==""&&(l=l.filter(x=>new Date(x.FechaLanzamiento).getFullYear().toString()===_)),r(l)},[v,n,r,b,D,P,y,N,_]);const T=l=>{h(l.target.value)},S=l=>{O(l.target.value)},L=l=>{p(l.target.value)},z=l=>{R(l.target.value)},H=l=>{d(l.target.value)};return s.jsxs(s.Fragment,{children:[s.jsx(ue,{onClick:e,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Filtros"}),s.jsxs("div",{className:`fixed top-0 left-0 h-full bg-gray-800 text-white w-64 transform z-50 ${c?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:[s.jsx(ue,{onClick:e,className:"absolute top-4 right-4 text-white",children:"Cerrar"}),s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-2xl mb-4",children:"Filtros"}),s.jsx("h1",{className:"text-lg font-semibold mb-2",children:"Categorías"}),s.jsxs("select",{value:v,onChange:T,className:"bg-indigo-500 text-white text-xs font-semibold mr-2 px-2.5 py-0.5 rounded",children:[s.jsx("option",{value:"",children:"Todas"}),a.map((l,E)=>s.jsx("option",{value:l.trim(),children:l.trim()},E))]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"text-lg font-semibold mb-2",children:"Filtrar por Año de Lanzamiento"}),s.jsxs("select",{value:_,onChange:H,className:"bg-indigo-500 text-white text-xs font-semibold mr-2 px-2.5 py-0.5 rounded",children:[s.jsx("option",{value:"",children:"Todos los años"}),Array.from({length:new Date().getFullYear()-1999},(l,E)=>s.jsx("option",{value:String(new Date().getFullYear()-E),children:new Date().getFullYear()-E},E))]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"text-lg font-semibold mb-2",children:"Ordenar por Título"}),s.jsxs("select",{value:N,onChange:S,className:"bg-indigo-500 text-white text-xs font-semibold mr-2 px-2.5 py-0.5 rounded",children:[s.jsx("option",{value:"",children:"Ninguno"}),s.jsx("option",{value:"asc",children:"A-Z"}),s.jsx("option",{value:"desc",children:"Z-A"})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("span",{className:"text-lg font-semibold mb-2",children:"Rango de Precios"}),s.jsxs("div",{className:"w-[200px]",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(X,{value:b,onChange:l=>g(l.target.value),className:"w-24 text-black"}),s.jsx(re,{value:b,onChange:l=>g(l.value),className:"w-full ml-4"})]}),s.jsxs("div",{className:"flex items-center mt-4",children:[s.jsx(X,{value:D,onChange:l=>C(l.target.value),className:"w-24 text-black"}),s.jsx(re,{value:D,onChange:l=>C(l.value),className:"w-full ml-4"})]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"text-lg font-semibold mb-2",children:"Filtrar por Fecha de Lanzamiento"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(X,{value:P,onChange:L,placeholder:"Desde",className:"w-24 text-black"}),s.jsx("span",{className:"mx-2",children:"-"}),s.jsx(X,{value:y,onChange:z,placeholder:"Hasta",className:"w-24 text-black"})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:e})]})},Qe=qe;function at(){document.title="Nuestros-juegos";const[n,r]=o.useState([]),[a,c]=o.useState([]),[e,v]=o.useState([]),[h,b]=o.useState(!1),[g,D]=o.useState(""),[C,N]=o.useState(1),O=9;o.useEffect(()=>{fetch(Ae).then(d=>d.text()).then(d=>{const T=d.substring(d.indexOf("["));try{const S=JSON.parse(T);r(S),c(S);const L=S.reduce((l,E)=>[...l,...E.Categorias],[]),H=[...new Set(L)];v(H)}catch(S){console.error("Error al analizar JSON:",S)}}).catch(d=>{console.error("Error en la solicitud:",d)})},[]);const P=()=>{b(!h)},p=d=>{D(d.target.value);const T=n.filter(S=>S.Titulo.toLowerCase().includes(d.target.value.toLowerCase()));c(T),N(1)},y=(d,T,S)=>{const L=(T-1)*S;return d.slice(L,L+S)},R=Math.ceil(a.length/O),_=d=>{N(d)};return s.jsxs(Ie,{children:[s.jsx(Fe,{searchTerm:g,handleSearch:p}),s.jsxs("div",{className:"mt-16 h-min",children:[s.jsx("div",{className:"flex justify-center lg:justify-start",children:s.jsx(Qe,{juegos:n,setFilteredJuegos:c,categoriasUnicas:e,isOpen:h,toggleSidebar:P})}),s.jsx("div",{className:"flex flex-wrap gap-10 cursor-pointer text-white text-6xl mb-7 justify-center mt-10 font-bold ",children:y(a,C,O).map(d=>s.jsxs(Oe,{to:`/juego/${d.idJuego}`,className:"border border-gray-300 rounded-lg shadow-md w-96 overflow-hidden transform transition duration-300 ease-in-out hover:scale-105 hover:shadow-2xl",children:[s.jsx("img",{src:d.Imagen,alt:d.Titulo,className:"w-full h-36 object-cover relative border rounded-xl overflow-hidden"}),s.jsxs("div",{className:"p-5 text-white flex justify-between",children:[s.jsx("span",{className:"mt-0 text-lg",children:d.Titulo}),s.jsx("span",{className:"mt-0 text-lg",children:typeof d.Precio=="number"?(d.Precio*1.21).toLocaleString("es-ES",{style:"currency",currency:"EUR"}):(parseFloat(d.Precio)*1.21).toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]})]},d.idJuego))}),s.jsx(ke,{totalPages:R,currentPage:C,handlePageChange:_})]})]})}export{at as default};
